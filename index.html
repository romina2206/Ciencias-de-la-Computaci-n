<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Primera Ley de Newton – Inercia</title>

<style>
  body { margin: 0; font-family: Arial; background: #f7f7f7; }
  h1 { padding: 15px; color: #5A2382; }

  #ui {
    position: absolute;
    top: 80px;
    left: 20px;
    background: white;
    padding: 15px;
    border-radius: 10px;
    width: 260px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
  }

  button {
    width: 100%;
    padding: 10px;
    background: #E6500F;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
  }
</style>
</head>

<body>

<h1>Primera Ley de Newton – Inercia</h1>

<div id="ui">
  <p>Si no actúa una fuerza neta,<br>el movimiento no cambia.</p>

  <label>
    <input type="checkbox" id="friccion" checked>
    Con fricción
  </label>

  <br><br>
  <button onclick="empujar()">Empujar</button>
</div>

<script type="module">
import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js";
import { OrbitControls } from "https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/controls/OrbitControls.js";

let scene, camera, renderer, controls;
let cube;
let velocity = 0;

init();
animate();

function init() {
  scene = new THREE.Scene();
  scene.background = new THREE.Color(0xf0f0f0);

  camera = new THREE.PerspectiveCamera(60, innerWidth / innerHeight, 0.1, 1000);
  camera.position.set(6, 4, 6);

  renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(innerWidth, innerHeight);
  document.body.appendChild(renderer.domElement);

  controls = new OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;

  scene.add(new THREE.AmbientLight(0xffffff, 0.6));

  const light = new THREE.DirectionalLight(0xffffff, 0.6);
  light.position.set(5, 10, 5);
  scene.add(light);

  const floor = new THREE.Mesh(
    new THREE.PlaneGeometry(30, 30),
    new THREE.MeshStandardMaterial({ color: 0xcccccc })
  );
  floor.rotation.x = -Math.PI / 2;
  scene.add(floor);

  cube = new THREE.Mesh(
    new THREE.BoxGeometry(1, 1, 1),
    new THREE.MeshStandardMaterial({ color: 0x0087C8 })
  );
  cube.position.set(0, 0.5, 0);
  scene.add(cube);

  window.addEventListener("resize", onResize);
}

function empujar() {
  cube.position.set(0, 0.5, 0);
  velocity = 0.12;
}

window.empujar = empujar;

function animate() {
  requestAnimationFrame(animate);

  if (velocity > 0) {
    cube.position.x += velocity;

    if (document.getElementById("friccion").checked) {
      velocity -= 0.002;
      if (velocity < 0) velocity = 0;
    }
  }

  controls.update();
  renderer.render(scene, camera);
}

function onResize() {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
}
</script>

</body>
</html>
